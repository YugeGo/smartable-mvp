# 智表 (Smartable) - V1.5 体验增强版

欢迎来到“智表”，一款由 AI 驱动、专为数据整理和分析打造的对话式表格助手。通过自然语言与它沟通，就能完成上传、清洗、统计、可视化、导出等一系列琐碎工作，把繁琐流程缩短到几次对话。

**线上体验地址:** https://smartable-mvp.netlify.app/

---

## ✨ 这一版本有什么新变化？

| 能力 | 说明 |
| --- | --- |
| 现代感 UI 2.0 | 浅色科技感背景、玻璃拟态面板、圆角消息气泡，让对话界面更轻盈。 |
| 上手即用的引导 | 首屏展示「推荐问法」与关闭按钮，AI 会先发一条操作提示，首次使用无压力。 |
| 上传状态 & Loading | 上传、解析、请求全程都有状态条与 Skeleton，误触刷新或等待时更安心。 |
| AI 表格 + 图表双输出 | 深度集成 ECharts，当指令需要可视化时自动渲染图表，并铺满聊天区域。 |
| 一键 Excel 导出 | 每条 AI 表格下方保留下载按钮，任意节点都能导出结构化 Excel。 |
| 多轮对话处理 | 让 AI 在上一轮的表格基础上继续加工，保持上下文语义闭环。 |

---

## 🚀 核心功能总览

1. **轻量对话式体验**  
    类似 ChatGPT 的单列对话流，支持键盘回车、Shift+Enter 换行、按钮点击等常见操作。

2. **灵活数据输入**  
    - 文件上传：支持 `.xlsx`、`.xls`、`.csv`，本地解析后生成统一 CSV。  
    - 文本粘贴：随时粘贴原始数据到输入框（后续版本会进一步打磨体验）。

3. **AI 数据加工**  
    依托 DeepSeek，大部分常见的数据整理需求（筛选、聚合、透视、统计、清洗、补列、公式生成）都能直接用自然语言描述完成。

4. **图表生成 (V1.5 新增)**  
    后端强制输出 ECharts 配置，前端渲染柱状、折线、饼图等常见统计图，支持同时展示表格与图表。

5. **结果导出**  
    任意一条 AI 回复的表格都能立即导出为 `.xlsx`（依赖 SheetJS），方便落地到线下办公软件继续处理。

6. **体验细节**  
    Loading Skeleton、顶部渐变进度条、上传状态徽章、prompt chips 等提升整体使用观感。

---

## � 技术栈与架构

| 模块 | 技术 |
| --- | --- |
| 前端 | 原生 HTML / CSS / JavaScript (ES6+)、SheetJS (xlsx)、ECharts |
| 后端 | Netlify Functions (Node.js) |
| AI 模型 | DeepSeek Chat API（结构化 JSON 输出 + 图表配置） |
| 部署 | GitHub Releases + Netlify CI/CD |

后端函数会把最新表格和指令一起发送给模型，要求以 `{ result, chart }` 的 JSON 格式返回。前端根据字段分别渲染表格与图表，并在必要时显示错误提示。

---

## � 使用指南

1. 打开线上地址：`https://smartable-mvp.netlify.app/`
2. 点击左下角 `📎` 上传 Excel 或 CSV，成功后会看到状态提示。
3. 在输入框描述你的需求，例如：「按地区统计销售额并画饼图」。
4. 等待 Skeleton 消失，AI 会返回最新表格和图表结果。
5. 如需继续分析，直接在同一线程接着发指令即可，多轮语境始终成立。
6. 当某一步结果符合预期时，点击表格下方 **📥 下载 Excel** 备份到本地。

---

## 🗺️ 近期路线图

- [ ] 允许离线/刷新后保留对话上下文与数据（草案中）
- [ ] 丰富图表类型（堆叠、散点、仪表盘等）并允许自定义主题
- [ ] 进一步打磨粘贴输入体验，支持自动检测分隔符
- [ ] 引入基础的权限/配额策略，确保线上体验稳定

欢迎通过 Issue / PR / 讨论区提出改进建议或使用反馈。

---

> 由 [YugeGo] 与 AI 伙伴共同构建。  
> 最后更新时间：2025 年 10 月 19 日