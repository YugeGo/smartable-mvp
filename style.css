/*
[指令开始]

** 1. 全局与Body样式 **
*   为所有元素应用 `box-sizing: border-box`。
*   为body设置一个干净的无衬线字体 (例如: system-ui)。
*   为body使用一个浅灰色背景 (`#f4f6f8`)。
*   移除body的默认外边距，并使布局为全屏高度。

** 2. 主聊天容器布局 **
*   为 `#chat-container` 设置主列式布局。
*   让它占据整个视口的高度 (`100vh`)。
*   使用Flexbox (`display: flex`, `flex-direction: column`) 来组织其子元素。
*   设置一个最大宽度 (例如: 800px) 并使其水平居中。

** 3. 消息列表样式 **
*   为 `#message-list` 设置主要的滚动区域样式。
*   让它自动伸展以填满可用空间 (`flex-grow: 1`)。
*   启用垂直滚动 (`overflow-y: auto`)。
*   为消息周围添加内边距以留出空间。

** 4. 通用消息气泡样式 **
*   为所有消息气泡的 `.message` 类添加样式。
*   给它们一个最大宽度 (例如: 80%)，这样它们就不会占满全宽。
*   添加内边距、圆角和下外边距。
*   使用 `white-space: pre-wrap;` 以保留文本中的换行。

** 5. 特定消息气泡样式 **
*   设计 `.system-message`：将其文本居中，给它一个柔和的文本颜色和一个较小的字号。
*   创建 `.user-message` 的样式：将它对齐到右侧 (`align-self: flex-end`)，给它一个舒适的蓝色背景和白色的文字。
*   创建 `.ai-message` 的样式：将它对齐到左侧 (`align-self: flex-start`)，给它一个白色的背景和浅灰色的边框。

** 6. 输入区域样式 (固定在底部) **
*   为 `#input-area` 设计一个固定在底部的条状样式。
*   使用Flexbox (`display: flex`, `align-items: center`) 进行对齐。
*   添加内边距和上边框以进行分隔。
*   给它一个白色的背景。
*   在其内部元素之间添加一些间距 (gap)。

** 7. 输入元素样式 **
*   设计 `textarea#command-input` 的样式:
    *   让它自动伸展以填满空间 (`flex-grow: 1`)。
    *   移除它的边框和调整大小的手柄。
    *   设置它的字号。
    *   让它可以根据内容自动调整高度 (我们稍后会用JS实现，但先设个基础高度)。
*   设计 `.input-btn` (上传和发送按钮) 的样式:
    *   让它们看起来很干净，没有背景和边框。
    *   为图标文本设置一个较大的字号。
    *   设置 `cursor: pointer`。
*   像之前一样，隐藏真实的 `#file-upload-input`。

** 8. 下载按钮样式 **
*   设计 `.action-buttons`：一个在消息列表上方的按钮组，用于下载文件。
*   让它占据整个视口的顶部 (`100vh`)。
*   使用Flexbox (`display: flex`, `justify-content: flex-end`) 来组织其子元素。
*   添加一些间距 (gap)。
*   每个按钮使用 `.action-btn` 样式。

[指令结束]
*/

*, *::before, *::after {
	box-sizing: border-box;
}

body {
	margin: 0;
	min-height: 100vh;
	background: #f4f6f8;
	font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
	display: flex;
	justify-content: center;
}

#chat-container {
	width: 100%;
	max-width: 800px;
	min-height: 100vh;
	display: flex;
	flex-direction: column;
	background: transparent;
	padding: 0 1.5rem;
}

#message-list {
	flex-grow: 1;
	overflow-y: auto;
	padding: 2rem 0;
	display: flex;
	flex-direction: column;
	gap: 1rem;
}

.message {
	max-width: 80%;
	padding: 0.9rem 1.1rem;
	border-radius: 1rem;
	margin-bottom: 0.25rem;
	white-space: pre-wrap;
	word-break: break-word;
	line-height: 1.5;
	background: #ffffff;
	color: #2c3a4b;
	box-shadow: 0 1px 2px rgba(15, 23, 42, 0.08);
}

.system-message {
	align-self: center;
	background: transparent;
	box-shadow: none;
	color: #6c7a89;
	font-size: 0.9rem;
	text-align: center;
	max-width: 100%;
}

.user-message {
	align-self: flex-end;
	background: #3b82f6;
	color: #ffffff;
	box-shadow: none;
}

.ai-message {
	align-self: flex-start;
	background: #ffffff;
	border: 1px solid #e0e4e8;
	box-shadow: none;
}

#input-area {
	display: flex;
	align-items: center;
	gap: 0.75rem;
	padding: 1rem 0;
	border-top: 1px solid #d6dce3;
	background: #ffffff;
	position: sticky;
	bottom: 0;
}

textarea#command-input {
	flex-grow: 1;
	border: none;
	resize: none;
	min-height: 2.75rem;
	font-size: 1rem;
	line-height: 1.4;
	padding: 0.75rem 1rem;
	background: #f1f5f9;
	border-radius: 0.75rem;
	outline: none;
	color: #1f2937;
}

textarea#command-input:focus {
	background: #e2e8f0;
}

.input-btn {
	border: none;
	background: none;
	font-size: 1.4rem;
	color: #3b82f6;
	cursor: pointer;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	padding: 0.5rem;
	transition: color 0.2s ease;
}

.input-btn:hover {
	color: #1d4ed8;
}

#file-upload-input {
	display: none;
}

.action-buttons {
	margin-top: 0.75rem;
	display: flex;
	justify-content: flex-end;
	gap: 0.5rem;
}

.action-btn {
	padding: 0.35rem 0.9rem;
	border: 1px solid #d6dce3;
	border-radius: 999px;
	background: #ffffff;
	font-size: 0.9rem;
	color: #2563eb;
	cursor: pointer;
	transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
}

.action-btn:hover {
	background: #2563eb;
	color: #ffffff;
	border-color: #2563eb;
}

/* V1.5 新增: 图表容器样式 */
.chart-container {
    width: 100%;
    height: 400px; /* 给图表一个固定的高度 */
    margin-top: 1rem; /* 与表格保持一些间距 */
}
